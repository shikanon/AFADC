<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>素材库管理 - AI漫剧快造</title>
    <script src="https://unpkg.byted-static.com/coze/space_ppt_lib/1.0.3-alpha.12/lib/tailwindcss.js"></script>
    <script src="https://unpkg.byted-static.com/fortawesome/fontawesome-free/6.7.2/js/all.min.js" data-auto-replace-svg="nest"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#6366f1',
                        secondary: '#8b5cf6',
                        tertiary: '#06b6d4',
                        success: '#10b981',
                        danger: '#ef4444',
                        warning: '#f59e0b',
                        info: '#3b82f6',
                        'text-primary': '#1f2937',
                        'text-secondary': '#6b7280',
                        'bg-light': '#f8fafc',
                        'border-light': '#e5e7eb'
                    },
                    boxShadow: {
                        'card': '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)',
                        'card-hover': '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)'
                    }
                }
            }
        }
    </script>
    <style>
        .sidebar-transition {
            transition: width 0.3s ease-in-out;
        }
        
        .material-card-hover:hover {
            transform: translateY(-2px);
            transition: all 0.2s ease-in-out;
        }
        
        .nav-item-active {
            background-color: theme('colors.primary');
            color: white;
        }
        
        .nav-item-hover:hover {
            background-color: theme('colors.bg-light');
            color: theme('colors.primary');
        }
        
        .search-focus:focus {
            outline: none;
            border-color: theme('colors.primary');
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        .material-preview {
            position: relative;
            overflow: hidden;
        }

        .material-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            color: white;
            padding: 8px;
            transform: translateY(100%);
            transition: transform 0.2s ease-in-out;
        }

        .material-card-hover:hover .material-overlay {
            transform: translateY(0);
        }
    </style>
</head>
<body class="bg-bg-light min-h-screen">
    <!-- 顶部导航栏 -->
    <header id="top-navbar" class="fixed top-0 left-0 right-0 bg-white border-b border-border-light h-16 z-50">
        <div class="flex items-center justify-between h-full px-6">
            <!-- Logo和产品名称 -->
            <div id="logo-section" class="flex items-center space-x-3">
                <div class="w-8 h-8 bg-gradient-to-br from-primary to-secondary rounded-lg flex items-center justify-center">
                    <i class="fas fa-magic text-white text-sm"></i>
                </div>
                <h1 class="text-xl font-bold text-text-primary">AI漫剧快造</h1>
            </div>
            
            <!-- 全局搜索 -->
            <div id="global-search" class="flex-1 max-w-md mx-8">
                <div class="relative">
                    <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-text-secondary text-sm"></i>
                    <input type="text" id="global-search-input" placeholder="搜索项目、工作空间..." 
                           class="w-full pl-10 pr-4 py-2 border border-border-light rounded-lg search-focus">
                </div>
            </div>
            
            <!-- 右侧操作区 -->
            <div id="header-actions" class="flex items-center space-x-4">
                <!-- 消息通知 -->
                <button id="notification-btn" class="relative p-2 text-text-secondary hover:text-primary">
                    <i class="fas fa-bell text-lg"></i>
                    <span class="absolute -top-1 -right-1 w-3 h-3 bg-danger rounded-full"></span>
                </button>
                
                <!-- 用户头像 -->
                <div id="user-menu" class="relative">
                    <button id="user-avatar-btn" class="flex items-center space-x-2 p-1 rounded-lg hover:bg-bg-light">
                        <img src="https://s.coze.cn/image/vPXp5FgfIfM/" 
                             alt="用户头像" class="w-8 h-8 rounded-full" data-category="人物">
                        <span class="text-sm text-text-primary">张小明</span>
                        <i class="fas fa-chevron-down text-xs text-text-secondary"></i>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- 左侧菜单 -->
    <aside id="sidebar" class="fixed left-0 top-16 bottom-0 w-60 bg-white border-r border-border-light sidebar-transition z-40">
        <nav id="sidebar-nav" class="p-4 space-y-2">
            <!-- 工作空间 -->
            <div id="workspace-section" class="mb-6">
                <h3 class="text-xs font-semibold text-text-secondary uppercase tracking-wider mb-3">工作空间</h3>
                <div class="space-y-1">
                    <a href="P-WORKSPACE_LIST.html" id="nav-workspace-list" 
                       class="flex items-center space-x-3 px-3 py-2 rounded-lg text-sm nav-item-hover">
                        <i class="fas fa-layer-group w-4"></i>
                        <span>工作空间管理</span>
                    </a>
                </div>
            </div>
            
            <!-- 项目管理 -->
            <div id="project-section" class="mb-6">
                <h3 class="text-xs font-semibold text-text-secondary uppercase tracking-wider mb-3">项目管理</h3>
                <div class="space-y-1">
                    <a href="P-PROJECT_LIST.html" id="nav-project-list" 
                       class="flex items-center space-x-3 px-3 py-2 rounded-lg text-sm nav-item-hover">
                        <i class="fas fa-folder w-4"></i>
                        <span>项目列表</span>
                    </a>
                </div>
            </div>
            
            <!-- 制作流程 -->
            <div id="workflow-section" class="mb-6">
                <h3 class="text-xs font-semibold text-text-secondary uppercase tracking-wider mb-3">制作流程</h3>
                <div class="space-y-1">
                    <a href="P-SCRIPT_INFO.html" id="nav-script-info" 
                       class="flex items-center space-x-3 px-3 py-2 rounded-lg text-sm nav-item-hover">
                        <i class="fas fa-file-alt w-4"></i>
                        <span>剧本信息</span>
                    </a>
                    <a href="P-CHARACTER_GENERATION.html" id="nav-character" 
                       class="flex items-center space-x-3 px-3 py-2 rounded-lg text-sm nav-item-hover">
                        <i class="fas fa-user-friends w-4"></i>
                        <span>角色IP形象</span>
                    </a>
                    <a href="P-VOICE_SELECTION.html" id="nav-voice" 
                       class="flex items-center space-x-3 px-3 py-2 rounded-lg text-sm nav-item-hover">
                        <i class="fas fa-microphone w-4"></i>
                        <span>音色选择</span>
                    </a>
                    <a href="P-SCENARIO_EDITOR.html" id="nav-scenario" 
                       class="flex items-center space-x-3 px-3 py-2 rounded-lg text-sm nav-item-hover">
                        <i class="fas fa-film w-4"></i>
                        <span>分镜脚本</span>
                    </a>
                    <a href="P-IMAGE_GENERATION.html" id="nav-image" 
                       class="flex items-center space-x-3 px-3 py-2 rounded-lg text-sm nav-item-hover">
                        <i class="fas fa-image w-4"></i>
                        <span>分镜画面</span>
                    </a>
                    <a href="P-VIDEO_GENERATION.html" id="nav-video" 
                       class="flex items-center space-x-3 px-3 py-2 rounded-lg text-sm nav-item-hover">
                        <i class="fas fa-video w-4"></i>
                        <span>分镜视频</span>
                    </a>
                    <a href="P-VIDEO_EXPORT.html" id="nav-export" 
                       class="flex items-center space-x-3 px-3 py-2 rounded-lg text-sm nav-item-hover">
                        <i class="fas fa-download w-4"></i>
                        <span>视频导出</span>
                    </a>
                </div>
            </div>
            
            <!-- 素材库 -->
            <div id="material-section">
                <h3 class="text-xs font-semibold text-text-secondary uppercase tracking-wider mb-3">素材库</h3>
                <div class="space-y-1">
                    <a href="P-MATERIAL_LIBRARY.html" id="nav-material" 
                       class="flex items-center space-x-3 px-3 py-2 rounded-lg text-sm nav-item-active">
                        <i class="fas fa-palette w-4"></i>
                        <span>素材库管理</span>
                    </a>
                </div>
            </div>
        </nav>
    </aside>

    <!-- 主内容区 -->
    <main id="main-content" class="ml-60 mt-16 p-6 min-h-screen">
        <!-- 页面头部 -->
        <div id="page-header" class="mb-6">
            <!-- 面包屑导航 -->
            <nav id="breadcrumb" class="mb-4">
                <ol class="flex items-center space-x-2 text-sm text-text-secondary">
                    <li><a href="P-WORKSPACE_LIST.html" class="hover:text-primary">首页</a></li>
                    <li><i class="fas fa-chevron-right text-xs"></i></li>
                    <li><span class="text-text-primary">素材库管理</span></li>
                </ol>
            </nav>
            
            <!-- 页面标题和操作 -->
            <div class="flex items-center justify-between">
                <div>
                    <h1 class="text-2xl font-bold text-text-primary mb-2">素材库管理</h1>
                    <p class="text-text-secondary">管理和上传您的素材资源</p>
                </div>
                <button id="upload-material-btn" class="bg-primary text-white px-6 py-2 rounded-lg hover:bg-primary/90 transition-colors">
                    <i class="fas fa-upload mr-2"></i>上传素材
                </button>
            </div>
        </div>

        <!-- 工具栏 -->
        <div id="toolbar" class="bg-white rounded-xl shadow-card p-4 mb-6">
            <div class="flex items-center justify-between flex-wrap gap-4">
                <!-- 搜索框 -->
                <div class="flex-1 max-w-md">
                    <div class="relative">
                        <i class="fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-text-secondary"></i>
                        <input type="text" id="material-search" placeholder="搜索素材名称..." 
                               class="w-full pl-10 pr-4 py-2 border border-border-light rounded-lg search-focus">
                    </div>
                </div>
                
                <!-- 筛选和排序 -->
                <div class="flex items-center space-x-3">
                    <select id="material-type-filter" class="px-3 py-2 border border-border-light rounded-lg text-sm">
                        <option value="">所有类型</option>
                        <option value="image">图片</option>
                        <option value="audio">音频</option>
                        <option value="video">视频</option>
                    </select>
                    
                    <select id="material-category-filter" class="px-3 py-2 border border-border-light rounded-lg text-sm">
                        <option value="">所有分类</option>
                        <option value="background">背景</option>
                        <option value="character">角色</option>
                        <option value="prop">道具</option>
                        <option value="music">音乐</option>
                        <option value="sound">音效</option>
                        <option value="other">其他</option>
                    </select>
                    
                    <select id="material-sort" class="px-3 py-2 border border-border-light rounded-lg text-sm">
                        <option value="uploaded_desc">上传时间 ↓</option>
                        <option value="uploaded_asc">上传时间 ↑</option>
                        <option value="name_asc">名称 A-Z</option>
                        <option value="name_desc">名称 Z-A</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- 素材列表 -->
        <div id="material-list" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6 mb-8">
            <!-- 图片素材1 -->
            <div id="material-card-1" class="bg-white rounded-xl shadow-card material-card-hover cursor-pointer" data-material-id="mat001" data-material-type="image">
                <div class="relative material-preview">
                    <img src="https://s.coze.cn/image/0xl9ykHM84M/" 
                         alt="樱花背景图" class="w-full h-48 object-cover rounded-t-xl" data-category="自然风景">
                    <div class="absolute top-3 right-3">
                        <span class="bg-primary/10 text-primary px-2 py-1 rounded-full text-xs font-medium">图片</span>
                    </div>
                    <div class="material-overlay">
                        <div class="flex items-center justify-between">
                            <span class="text-xs">背景</span>
                            <div class="flex space-x-1">
                                <button class="preview-btn text-white hover:text-gray-300" data-material-id="mat001">
                                    <i class="fas fa-eye text-xs"></i>
                                </button>
                                <button class="copy-link-btn text-white hover:text-gray-300" data-material-id="mat001">
                                    <i class="fas fa-copy text-xs"></i>
                                </button>
                                <button class="delete-btn text-white hover:text-gray-300" data-material-id="mat001">
                                    <i class="fas fa-trash text-xs"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-text-primary mb-2">樱花背景图</h3>
                    <div class="flex items-center justify-between text-xs text-text-secondary">
                        <span><i class="fas fa-calendar mr-1"></i>2024-01-15</span>
                        <span><i class="fas fa-file mr-1"></i>2.3MB</span>
                    </div>
                </div>
            </div>

            <!-- 音频素材1 -->
            <div id="material-card-2" class="bg-white rounded-xl shadow-card material-card-hover cursor-pointer" data-material-id="mat002" data-material-type="audio">
                <div class="relative material-preview">
                    <div class="w-full h-48 bg-gradient-to-br from-purple-400 to-purple-600 rounded-t-xl flex items-center justify-center">
                        <i class="fas fa-music text-white text-4xl"></i>
                    </div>
                    <div class="absolute top-3 right-3">
                        <span class="bg-secondary/10 text-secondary px-2 py-1 rounded-full text-xs font-medium">音频</span>
                    </div>
                    <div class="material-overlay">
                        <div class="flex items-center justify-between">
                            <span class="text-xs">音乐</span>
                            <div class="flex space-x-1">
                                <button class="preview-btn text-white hover:text-gray-300" data-material-id="mat002">
                                    <i class="fas fa-eye text-xs"></i>
                                </button>
                                <button class="copy-link-btn text-white hover:text-gray-300" data-material-id="mat002">
                                    <i class="fas fa-copy text-xs"></i>
                                </button>
                                <button class="delete-btn text-white hover:text-gray-300" data-material-id="mat002">
                                    <i class="fas fa-trash text-xs"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-text-primary mb-2">温馨钢琴曲</h3>
                    <div class="flex items-center justify-between text-xs text-text-secondary">
                        <span><i class="fas fa-calendar mr-1"></i>2024-01-14</span>
                        <span><i class="fas fa-clock mr-1"></i>3:45</span>
                    </div>
                </div>
            </div>

            <!-- 视频素材1 -->
            <div id="material-card-3" class="bg-white rounded-xl shadow-card material-card-hover cursor-pointer" data-material-id="mat003" data-material-type="video">
                <div class="relative material-preview">
                    <img src="https://s.coze.cn/image/A7WmC07XFko/" 
                         alt="星空视频预览" class="w-full h-48 object-cover rounded-t-xl" data-category="自然风景">
                    <div class="absolute inset-0 flex items-center justify-center">
                        <div class="w-12 h-12 bg-black/50 rounded-full flex items-center justify-center">
                            <i class="fas fa-play text-white ml-1"></i>
                        </div>
                    </div>
                    <div class="absolute top-3 right-3">
                        <span class="bg-tertiary/10 text-tertiary px-2 py-1 rounded-full text-xs font-medium">视频</span>
                    </div>
                    <div class="material-overlay">
                        <div class="flex items-center justify-between">
                            <span class="text-xs">背景</span>
                            <div class="flex space-x-1">
                                <button class="preview-btn text-white hover:text-gray-300" data-material-id="mat003">
                                    <i class="fas fa-eye text-xs"></i>
                                </button>
                                <button class="copy-link-btn text-white hover:text-gray-300" data-material-id="mat003">
                                    <i class="fas fa-copy text-xs"></i>
                                </button>
                                <button class="delete-btn text-white hover:text-gray-300" data-material-id="mat003">
                                    <i class="fas fa-trash text-xs"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-text-primary mb-2">星空背景视频</h3>
                    <div class="flex items-center justify-between text-xs text-text-secondary">
                        <span><i class="fas fa-calendar mr-1"></i>2024-01-13</span>
                        <span><i class="fas fa-clock mr-1"></i>1:30</span>
                    </div>
                </div>
            </div>

            <!-- 图片素材2 -->
            <div id="material-card-4" class="bg-white rounded-xl shadow-card material-card-hover cursor-pointer" data-material-id="mat004" data-material-type="image">
                <div class="relative material-preview">
                    <img src="https://s.coze.cn/image/Jc4-ue0joRM/" 
                         alt="魔法城堡图片" class="w-full h-48 object-cover rounded-t-xl" data-category="建筑城市">
                    <div class="absolute top-3 right-3">
                        <span class="bg-primary/10 text-primary px-2 py-1 rounded-full text-xs font-medium">图片</span>
                    </div>
                    <div class="material-overlay">
                        <div class="flex items-center justify-between">
                            <span class="text-xs">背景</span>
                            <div class="flex space-x-1">
                                <button class="preview-btn text-white hover:text-gray-300" data-material-id="mat004">
                                    <i class="fas fa-eye text-xs"></i>
                                </button>
                                <button class="copy-link-btn text-white hover:text-gray-300" data-material-id="mat004">
                                    <i class="fas fa-copy text-xs"></i>
                                </button>
                                <button class="delete-btn text-white hover:text-gray-300" data-material-id="mat004">
                                    <i class="fas fa-trash text-xs"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-text-primary mb-2">魔法城堡</h3>
                    <div class="flex items-center justify-between text-xs text-text-secondary">
                        <span><i class="fas fa-calendar mr-1"></i>2024-01-12</span>
                        <span><i class="fas fa-file mr-1"></i>1.8MB</span>
                    </div>
                </div>
            </div>

            <!-- 音频素材2 -->
            <div id="material-card-5" class="bg-white rounded-xl shadow-card material-card-hover cursor-pointer" data-material-id="mat005" data-material-type="audio">
                <div class="relative material-preview">
                    <div class="w-full h-48 bg-gradient-to-br from-blue-400 to-blue-600 rounded-t-xl flex items-center justify-center">
                        <i class="fas fa-volume-up text-white text-4xl"></i>
                    </div>
                    <div class="absolute top-3 right-3">
                        <span class="bg-secondary/10 text-secondary px-2 py-1 rounded-full text-xs font-medium">音频</span>
                    </div>
                    <div class="material-overlay">
                        <div class="flex items-center justify-between">
                            <span class="text-xs">音效</span>
                            <div class="flex space-x-1">
                                <button class="preview-btn text-white hover:text-gray-300" data-material-id="mat005">
                                    <i class="fas fa-eye text-xs"></i>
                                </button>
                                <button class="copy-link-btn text-white hover:text-gray-300" data-material-id="mat005">
                                    <i class="fas fa-copy text-xs"></i>
                                </button>
                                <button class="delete-btn text-white hover:text-gray-300" data-material-id="mat005">
                                    <i class="fas fa-trash text-xs"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-text-primary mb-2">风声音效</h3>
                    <div class="flex items-center justify-between text-xs text-text-secondary">
                        <span><i class="fas fa-calendar mr-1"></i>2024-01-11</span>
                        <span><i class="fas fa-clock mr-1"></i>0:30</span>
                    </div>
                </div>
            </div>

            <!-- 图片素材3 -->
            <div id="material-card-6" class="bg-white rounded-xl shadow-card material-card-hover cursor-pointer" data-material-id="mat006" data-material-type="image">
                <div class="relative material-preview">
                    <img src="https://s.coze.cn/image/vtVtBJczOEE/" 
                         alt="现代都市夜景" class="w-full h-48 object-cover rounded-t-xl" data-category="建筑城市">
                    <div class="absolute top-3 right-3">
                        <span class="bg-primary/10 text-primary px-2 py-1 rounded-full text-xs font-medium">图片</span>
                    </div>
                    <div class="material-overlay">
                        <div class="flex items-center justify-between">
                            <span class="text-xs">背景</span>
                            <div class="flex space-x-1">
                                <button class="preview-btn text-white hover:text-gray-300" data-material-id="mat006">
                                    <i class="fas fa-eye text-xs"></i>
                                </button>
                                <button class="copy-link-btn text-white hover:text-gray-300" data-material-id="mat006">
                                    <i class="fas fa-copy text-xs"></i>
                                </button>
                                <button class="delete-btn text-white hover:text-gray-300" data-material-id="mat006">
                                    <i class="fas fa-trash text-xs"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-text-primary mb-2">都市夜景</h3>
                    <div class="flex items-center justify-between text-xs text-text-secondary">
                        <span><i class="fas fa-calendar mr-1"></i>2024-01-10</span>
                        <span><i class="fas fa-file mr-1"></i>3.1MB</span>
                    </div>
                </div>
            </div>

            <!-- 视频素材2 -->
            <div id="material-card-7" class="bg-white rounded-xl shadow-card material-card-hover cursor-pointer" data-material-id="mat007" data-material-type="video">
                <div class="relative material-preview">
                    <img src="https://s.coze.cn/image/WxdDyKPwXaw/" 
                         alt="海洋视频预览" class="w-full h-48 object-cover rounded-t-xl" data-category="自然风景">
                    <div class="absolute inset-0 flex items-center justify-center">
                        <div class="w-12 h-12 bg-black/50 rounded-full flex items-center justify-center">
                            <i class="fas fa-play text-white ml-1"></i>
                        </div>
                    </div>
                    <div class="absolute top-3 right-3">
                        <span class="bg-tertiary/10 text-tertiary px-2 py-1 rounded-full text-xs font-medium">视频</span>
                    </div>
                    <div class="material-overlay">
                        <div class="flex items-center justify-between">
                            <span class="text-xs">背景</span>
                            <div class="flex space-x-1">
                                <button class="preview-btn text-white hover:text-gray-300" data-material-id="mat007">
                                    <i class="fas fa-eye text-xs"></i>
                                </button>
                                <button class="copy-link-btn text-white hover:text-gray-300" data-material-id="mat007">
                                    <i class="fas fa-copy text-xs"></i>
                                </button>
                                <button class="delete-btn text-white hover:text-gray-300" data-material-id="mat007">
                                    <i class="fas fa-trash text-xs"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-text-primary mb-2">海洋波浪视频</h3>
                    <div class="flex items-center justify-between text-xs text-text-secondary">
                        <span><i class="fas fa-calendar mr-1"></i>2024-01-09</span>
                        <span><i class="fas fa-clock mr-1"></i>2:15</span>
                    </div>
                </div>
            </div>

            <!-- 音频素材3 -->
            <div id="material-card-8" class="bg-white rounded-xl shadow-card material-card-hover cursor-pointer" data-material-id="mat008" data-material-type="audio">
                <div class="relative material-preview">
                    <div class="w-full h-48 bg-gradient-to-br from-green-400 to-green-600 rounded-t-xl flex items-center justify-center">
                        <i class="fas fa-music text-white text-4xl"></i>
                    </div>
                    <div class="absolute top-3 right-3">
                        <span class="bg-secondary/10 text-secondary px-2 py-1 rounded-full text-xs font-medium">音频</span>
                    </div>
                    <div class="material-overlay">
                        <div class="flex items-center justify-between">
                            <span class="text-xs">音乐</span>
                            <div class="flex space-x-1">
                                <button class="preview-btn text-white hover:text-gray-300" data-material-id="mat008">
                                    <i class="fas fa-eye text-xs"></i>
                                </button>
                                <button class="copy-link-btn text-white hover:text-gray-300" data-material-id="mat008">
                                    <i class="fas fa-copy text-xs"></i>
                                </button>
                                <button class="delete-btn text-white hover:text-gray-300" data-material-id="mat008">
                                    <i class="fas fa-trash text-xs"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="p-4">
                    <h3 class="font-semibold text-text-primary mb-2">轻快吉他曲</h3>
                    <div class="flex items-center justify-between text-xs text-text-secondary">
                        <span><i class="fas fa-calendar mr-1"></i>2024-01-08</span>
                        <span><i class="fas fa-clock mr-1"></i>2:58</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- 分页 -->
        <div id="pagination" class="flex items-center justify-between bg-white rounded-xl shadow-card p-4">
            <div class="text-sm text-text-secondary">
                显示 1-8 条，共 8 条记录
            </div>
            <div class="flex items-center space-x-2">
                <button class="px-3 py-1 border border-border-light rounded text-sm text-text-secondary hover:border-primary hover:text-primary">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <button class="px-3 py-1 bg-primary text-white rounded text-sm">1</button>
                <button class="px-3 py-1 border border-border-light rounded text-sm text-text-secondary hover:border-primary hover:text-primary">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </main>

    <!-- 上传素材弹窗 -->
    <div id="upload-material-modal" class="fixed inset-0 bg-black/50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-xl shadow-xl w-full max-w-2xl">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-lg font-semibold text-text-primary">上传素材</h3>
                        <button id="close-upload-modal-btn" class="text-text-secondary hover:text-text-primary">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <form id="upload-material-form" class="space-y-4">
                        <div>
                            <label for="material-name" class="block text-sm font-medium text-text-primary mb-2">素材名称</label>
                            <input type="text" id="material-name" name="material-name" 
                                   class="w-full px-3 py-2 border border-border-light rounded-lg search-focus" 
                                   placeholder="请输入素材名称" required>
                        </div>
                        
                        <div>
                            <label for="material-category" class="block text-sm font-medium text-text-primary mb-2">素材分类</label>
                            <select id="material-category" name="material-category" 
                                    class="w-full px-3 py-2 border border-border-light rounded-lg search-focus" required>
                                <option value="">请选择分类</option>
                                <option value="background">背景</option>
                                <option value="character">角色</option>
                                <option value="prop">道具</option>
                                <option value="music">音乐</option>
                                <option value="sound">音效</option>
                                <option value="other">其他</option>
                            </select>
                        </div>
                        
                        <div>
                            <label class="block text-sm font-medium text-text-primary mb-2">选择文件</label>
                            <div class="border-2 border-dashed border-border-light rounded-lg p-8 text-center hover:border-primary/50 hover:bg-primary/5 transition-colors">
                                <i class="fas fa-cloud-upload-alt text-4xl text-text-secondary mb-4"></i>
                                <p class="text-text-secondary mb-2">点击或拖拽文件到此处上传</p>
                                <p class="text-xs text-text-secondary">支持图片、音频、视频格式，单个文件最大100MB</p>
                                <input type="file" id="material-file" name="material-file" 
                                       class="hidden" accept="image/*,audio/*,video/*" required>
                            </div>
                        </div>
                        
                        <div class="flex items-center justify-end space-x-3 pt-4">
                            <button type="button" id="cancel-upload-btn" 
                                    class="px-4 py-2 border border-border-light rounded-lg text-text-secondary hover:border-primary hover:text-primary">
                                取消
                            </button>
                            <button type="submit" 
                                    class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90">
                                上传
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- 素材预览弹窗 -->
    <div id="material-preview-modal" class="fixed inset-0 bg-black/50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-xl shadow-xl w-full max-w-4xl max-h-[90vh] overflow-hidden">
                <div class="p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h3 id="preview-material-name" class="text-lg font-semibold text-text-primary">素材预览</h3>
                        <button id="close-preview-modal-btn" class="text-text-secondary hover:text-text-primary">
                            <i class="fas fa-times"></i>
                        </button>
                    </div>
                    
                    <div id="preview-content" class="text-center">
                        <!-- 预览内容将通过JavaScript动态加载 -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 删除确认弹窗 -->
    <div id="delete-confirm-modal" class="fixed inset-0 bg-black/50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white rounded-xl shadow-xl w-full max-w-md">
                <div class="p-6">
                    <div class="text-center">
                        <div class="w-16 h-16 bg-danger/10 rounded-full flex items-center justify-center mx-auto mb-4">
                            <i class="fas fa-trash text-danger text-2xl"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-text-primary mb-2">确认删除</h3>
                        <p class="text-text-secondary mb-6">确定要删除这个素材吗？删除后无法恢复。</p>
                        
                        <div class="flex items-center justify-center space-x-3">
                            <button id="cancel-delete-btn" 
                                    class="px-4 py-2 border border-border-light rounded-lg text-text-secondary hover:border-primary hover:text-primary">
                                取消
                            </button>
                            <button id="confirm-delete-btn" 
                                    class="px-4 py-2 bg-danger text-white rounded-lg hover:bg-danger/90">
                                删除
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // 上传素材弹窗控制
            const uploadMaterialBtn = document.querySelector('#upload-material-btn');
            const uploadMaterialModal = document.querySelector('#upload-material-modal');
            const closeUploadModalBtn = document.querySelector('#close-upload-modal-btn');
            const cancelUploadBtn = document.querySelector('#cancel-upload-btn');

            function openUploadModal() {
                uploadMaterialModal.classList.remove('hidden');
            }

            function closeUploadModal() {
                uploadMaterialModal.classList.add('hidden');
            }

            uploadMaterialBtn.addEventListener('click', openUploadModal);
            closeUploadModalBtn.addEventListener('click', closeUploadModal);
            cancelUploadBtn.addEventListener('click', closeUploadModal);

            // 点击弹窗外部关闭
            uploadMaterialModal.addEventListener('click', (e) => {
                if (e.target === uploadMaterialModal) {
                    closeUploadModal();
                }
            });

            // 素材预览弹窗控制
            const materialPreviewModal = document.querySelector('#material-preview-modal');
            const closePreviewModalBtn = document.querySelector('#close-preview-modal-btn');
            const previewMaterialName = document.querySelector('#preview-material-name');
            const previewContent = document.querySelector('#preview-content');

            function openPreviewModal(materialId, materialName, materialType, materialUrl) {
                previewMaterialName.textContent = materialName;
                
                // 根据素材类型显示不同的预览内容
                if (materialType === 'image') {
                    previewContent.innerHTML = `
                        <img src="${materialUrl}" alt="${materialName}" class="max-w-full max-h-96 mx-auto rounded-lg">
                    `;
                } else if (materialType === 'audio') {
                    previewContent.innerHTML = `
                        <div class="max-w-md mx-auto">
                            <div class="bg-gray-100 rounded-lg p-6 mb-4">
                                <i class="fas fa-music text-4xl text-secondary mb-4"></i>
                                <p class="text-text-secondary mb-4">${materialName}</p>
                                <audio controls class="w-full">
                                    <source src="${materialUrl}" type="audio/mpeg">
                                    您的浏览器不支持音频播放。
                                </audio>
                            </div>
                        </div>
                    `;
                } else if (materialType === 'video') {
                    previewContent.innerHTML = `
                        <video controls class="max-w-full max-h-96 mx-auto rounded-lg">
                            <source src="${materialUrl}" type="video/mp4">
                            您的浏览器不支持视频播放。
                         </video>
                    `;
                }

                materialPreviewModal.classList.remove('hidden');
            }

            function closePreviewModal() {
                materialPreviewModal.classList.add('hidden');
            }

            closePreviewModalBtn.addEventListener('click', closePreviewModal);

            // 点击弹窗外部关闭
            materialPreviewModal.addEventListener('click', (e) => {
                if (e.target === materialPreviewModal) {
                    closePreviewModal();
                }
            });

            // 删除确认弹窗控制
            const deleteConfirmModal = document.querySelector('#delete-confirm-modal');
            const cancelDeleteBtn = document.querySelector('#cancel-delete-btn');
            const confirmDeleteBtn = document.querySelector('#confirm-delete-btn');
            let materialToDelete = null;

            function openDeleteModal(materialId) {
                materialToDelete = materialId;
                deleteConfirmModal.classList.remove('hidden');
            }

            function closeDeleteModal() {
                deleteConfirmModal.classList.add('hidden');
                materialToDelete = null;
            }

            cancelDeleteBtn.addEventListener('click', closeDeleteModal);

            // 点击弹窗外部关闭
            deleteConfirmModal.addEventListener('click', (e) => {
                if (e.target === deleteConfirmModal) {
                    closeDeleteModal();
                }
            });

            // 确认删除
            confirmDeleteBtn.addEventListener('click', function() {
                if (materialToDelete) {
                    // 这里处理删除逻辑
                    const materialCard = document.querySelector(`[data-material-id="${materialToDelete}"]`);
                    if (materialCard) {
                        materialCard.remove();
                    }
                    closeDeleteModal();
                    console.log('删除素材:', materialToDelete);
                }
            });

            // 素材卡片事件委托
            document.querySelector('#material-list').addEventListener('click', function(e) {
                const materialCard = e.target.closest('[data-material-id]');
                if (!materialCard) return;

                const materialId = materialCard.dataset.materialId;
                const materialType = materialCard.dataset.materialType;
                const materialName = materialCard.querySelector('h3').textContent;
                
                // 预览按钮
                if (e.target.closest('.preview-btn')) {
                    e.stopPropagation();
                    // 模拟获取素材URL
                    const materialUrl = materialCard.querySelector('img') ? materialCard.querySelector('img').src : `https://s.coze.cn/image/6v4BZaAsPxE/{materialId}`;
                    openPreviewModal(materialId, materialName, materialType, materialUrl);
                }

                // 复制链接按钮
                if (e.target.closest('.copy-link-btn')) {
                    e.stopPropagation();
                    // 模拟复制链接
                    const materialUrl = `https://s.coze.cn/image/LhoPZOfBwpw/{materialId}`;
                    navigator.clipboard.writeText(materialUrl).then(() => {
                        // 显示复制成功提示
                        console.log('链接已复制到剪贴板');
                    });
                }

                // 删除按钮
                if (e.target.closest('.delete-btn')) {
                    e.stopPropagation();
                    openDeleteModal(materialId);
                }

                // 卡片点击（预览）
                if (!e.target.closest('button')) {
                    const materialUrl = materialCard.querySelector('img') ? materialCard.querySelector('img').src : `https://s.coze.cn/image/I2gq1HbnFOM/{materialId}`;
                    openPreviewModal(materialId, materialName, materialType, materialUrl);
                }
            });

            // 文件上传区域点击事件
            document.querySelector('#upload-material-form .border-dashed').addEventListener('click', function() {
                document.querySelector('#material-file').click();
            });

            // 文件选择事件
            document.querySelector('#material-file').addEventListener('change', function(e) {
                const file = e.target.files[0];
                if (file) {
                    console.log('选择文件:', file.name);
                }
            });

            // 上传表单提交
            document.querySelector('#upload-material-form').addEventListener('submit', function(e) {
                e.preventDefault();
                const formData = new FormData(this);
                const materialName = formData.get('material-name');
                const materialCategory = formData.get('material-category');
                const materialFile = formData.get('material-file');

                if (materialFile) {
                    console.log('上传素材:', {
                        name: materialName,
                        category: materialCategory,
                        file: materialFile.name
                    });
                    // 这里处理实际的文件上传逻辑
                    alert('素材上传成功！');
                    closeUploadModal();
                    // 重置表单
                    this.reset();
                }
            });

            // 搜索功能
            document.querySelector('#material-search').addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();
                // 这里处理搜索逻辑
                console.log('搜索素材:', searchTerm);
            });

            // 筛选功能
            document.querySelector('#material-type-filter').addEventListener('change', function(e) {
                console.log('类型筛选:', e.target.value);
            });

            document.querySelector('#material-category-filter').addEventListener('change', function(e) {
                console.log('分类筛选:', e.target.value);
            });

            // 排序功能
            document.querySelector('#material-sort').addEventListener('change', function(e) {
                console.log('排序:', e.target.value);
            });

            // 导航菜单点击事件
            document.querySelector('#nav-workspace-list').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-WORKSPACE_LIST.html';
            });

            document.querySelector('#nav-project-list').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-PROJECT_LIST.html';
            });

            document.querySelector('#nav-script-info').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-SCRIPT_INFO.html';
            });

            document.querySelector('#nav-character').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-CHARACTER_GENERATION.html';
            });

            document.querySelector('#nav-voice').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-VOICE_SELECTION.html';
            });

            document.querySelector('#nav-scenario').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-SCENARIO_EDITOR.html';
            });

            document.querySelector('#nav-image').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-IMAGE_GENERATION.html';
            });

            document.querySelector('#nav-video').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-VIDEO_GENERATION.html';
            });

            document.querySelector('#nav-export').addEventListener('click', function(e) {
                e.preventDefault();
                window.location.href = 'P-VIDEO_EXPORT.html';
            });
        });
    </script>
</body>
</html>